% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_soccer_teams.R
\name{fetch_soccer_teams}
\alias{fetch_soccer_teams}
\title{Fetch soccer teams data using ESPN API}
\usage{
fetch_soccer_teams(league_slug, return_type = "all", raw = FALSE)
}
\arguments{
\item{league_slug}{Character. ESPN league slug (required).
Examples: "eng.1" (Premier League), "esp.1" (La Liga), "ger.1" (Bundesliga).
Use \code{fetch_soccer_leagues()} to get available league slugs.}

\item{return_type}{Character. Type of data to return (default: "all").
Options are:
\itemize{
\item "league_info" - Basic league and season information
\item "teams" - Complete team list with details
\item "all" - Both league info and teams
}}

\item{raw}{Logical. If TRUE, assigns raw JSON response to global environment
as 'soccer_teams_raw' for debugging purposes (default: FALSE).}
}
\value{
Invisibly returns the processed data. The main purpose is global
environment assignment based on return_type:
\itemize{
\item \code{soccer_teams_league_info} - League summary data frame
\item \code{soccer_teams} - Complete teams list data frame
\item \code{soccer_teams_raw} - Raw JSON response (if raw = TRUE)
}
}
\description{
Retrieves soccer team information from ESPN's API for a specific league.
The function fetches comprehensive team data including details, venues, and records.
}
\details{
The function creates structured data frames with comprehensive team information:

\strong{League Info} (\code{soccer_teams_league_info}):
\itemize{
\item League details: slug, name, abbreviation
\item Season information: year, type
\item Total teams count
}

\strong{Teams} (\code{soccer_teams}):
\itemize{
\item Team identity: ID, name, display name, abbreviation
\item Team details: location, nickname, colors, logo
\item Status: active/inactive status
\item Venue: stadium ID, name, city, capacity
\item Record: season record summary (wins-losses-draws)
}

\strong{Team Colors}:
Colors are provided as hex codes (e.g., "ff0000" for red) for use in visualizations

\strong{Venue Information}:
Includes stadium details like capacity and location for match analysis
}
\examples{
\dontrun{
# Get Premier League teams
fetch_soccer_teams("eng.1")

# Get La Liga teams
fetch_soccer_teams("esp.1")

# Get Bundesliga teams
fetch_soccer_teams("ger.1")

# Get Champions League teams (tournament format)
fetch_soccer_teams("uefa.champions")

# Check what data was created
head(soccer_teams_league_info)
head(soccer_teams)

# Get only teams data
fetch_soccer_teams("eng.1", return_type = "teams")

# Find specific team
liverpool <- soccer_teams[
  grepl("Liverpool", soccer_teams$team_display_name),
]

# Find teams by city
london_teams <- soccer_teams[
  grepl("London", soccer_teams$venue_city),
]

# Find teams by nickname
united_teams <- soccer_teams[
  grepl("United", soccer_teams$team_name),
]

# Analyze venue capacities
venues_with_capacity <- soccer_teams[
  !is.na(soccer_teams$venue_capacity) &
  soccer_teams$venue_capacity != "",
]
venues_with_capacity$capacity_num <- as.numeric(venues_with_capacity$venue_capacity)
largest_stadiums <- venues_with_capacity[
  order(-venues_with_capacity$capacity_num),
]

# Find teams with good records
teams_with_records <- soccer_teams[
  !is.na(soccer_teams$record_wins) &
  soccer_teams$record_wins != "",
]
teams_with_records$wins_num <- as.numeric(teams_with_records$record_wins)
most_wins <- teams_with_records[
  order(-teams_with_records$wins_num),
]

# Color analysis for visualizations
team_colors <- soccer_teams[
  !is.na(soccer_teams$team_color) &
  soccer_teams$team_color != "",
  c("team_display_name", "team_color", "team_alternate_color")
]

# Find active teams
active_teams <- soccer_teams[
  soccer_teams$team_is_active == "TRUE",
]

# Stadium analysis
unique_venues <- soccer_teams[
  !is.na(soccer_teams$venue_name) &
  soccer_teams$venue_name != "",
  c("venue_name", "venue_city", "venue_capacity")
]
unique_venues <- unique_venues[!duplicated(unique_venues$venue_name), ]

# Team abbreviations for quick reference
team_abbrevs <- soccer_teams[
  c("team_display_name", "team_abbreviation", "team_id")
]

# Get raw data for debugging
fetch_soccer_teams("eng.1", raw = TRUE)
}

}
\seealso{
\code{\link{fetch_soccer_leagues}} to get available league slugs
\code{\link{fetch_soccer_standings}} for current team positions
\code{\link{fetch_soccer_team_schedule}} for individual team schedules

Common league slugs:
\itemize{
\item \code{eng.1} - English Premier League
\item \code{esp.1} - Spanish La Liga
\item \code{ger.1} - German Bundesliga
\item \code{ita.1} - Italian Serie A
\item \code{fra.1} - French Ligue 1
\item \code{usa.1} - Major League Soccer (MLS)
\item \code{uefa.champions} - UEFA Champions League
\item \code{uefa.europa} - UEFA Europa League
}
}
