% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_nfl-night_games.R
\name{fetch_nfl_night_games}
\alias{fetch_nfl_night_games}
\title{Fetch NFL night games using Site API}
\usage{
fetch_nfl_night_games(
  night = "monday",
  year = as.integer(format(Sys.Date(), "\%Y")),
  raw = FALSE
)
}
\arguments{
\item{night}{Character. Night type to fetch games for.
Must be one of: "monday", "thursday", "sunday" (default: "monday").}

\item{year}{Integer. Season year to fetch (default: current year).
The function will fetch games from the specified season.}

\item{raw}{Logical. If TRUE, assigns raw JSON response to global environment
as 'nfl_night_games_raw' for debugging purposes (default: FALSE).}
}
\value{
Invisibly returns the processed data frame. The main purpose is global
environment assignment of \code{nfl_night_games} containing:
\itemize{
\item Game information: ID, date, name, status, scores
\item Season details: year, type, week number
\item Venue information: name, location, capacity, indoor/outdoor
\item Broadcast details: network, language
\item Team details: names, abbreviations, colors, logos, records
\item Game results: scores, winners
}
}
\description{
Retrieves games for specific NFL night broadcasts from ESPN's Site API.
The function fetches comprehensive game information for Monday Night Football,
Thursday Night Football, or Sunday Night Football.
}
\details{
The function creates a structured data frame with comprehensive night game information.
Each row represents a game with detailed information about teams, venue, and broadcast.

\strong{Game Information}:
\itemize{
\item Basic details: game ID, date, name, status
\item Timing: season year, week number, game clock, period
\item Results: scores, winners, game status
}

\strong{Venue Details}:
\itemize{
\item Location: venue name, city, state
\item Specifications: capacity, indoor/outdoor designation
}

\strong{Team Information}:
\itemize{
\item Identity: team names, abbreviations, locations
\item Branding: team colors, logos
\item Performance: records, scores, winner status
}

\strong{Night Types}:
\itemize{
\item "monday" - Monday Night Football (typically ESPN)
\item "thursday" - Thursday Night Football (typically Prime Video/NFL Network)
\item "sunday" - Sunday Night Football (typically NBC)
}
}
\examples{
\dontrun{
# Get Monday Night Football games
fetch_nfl_night_games("monday")

# Get Thursday Night Football games
fetch_nfl_night_games("thursday")

# Get Sunday Night Football games
fetch_nfl_night_games("sunday")

# Get games from specific year
fetch_nfl_night_games("monday", year = 2023)

# Check the data
head(nfl_night_games)

# View recent games
recent_games <- nfl_night_games[1:5, c("game_date", "game_short_name",
                                       "home_team_abbreviation", "home_team_score",
                                       "away_team_abbreviation", "away_team_score")]
print(recent_games)

# Games by venue
venue_games <- table(nfl_night_games$venue_name)
print("Games by venue:")
print(sort(venue_games, decreasing = TRUE))

# Broadcast networks
network_games <- table(nfl_night_games$broadcast_network)
print("Games by network:")
print(network_games)

# Team performance in night games
home_wins <- sum(nfl_night_games$home_team_winner == "true", na.rm = TRUE)
away_wins <- sum(nfl_night_games$away_team_winner == "true", na.rm = TRUE)
total_games <- nrow(nfl_night_games[!is.na(nfl_night_games$home_team_winner), ])

cat(sprintf("Home team wins: \%d/\%d (\%.1f\%\%)\n",
            home_wins, total_games, (home_wins/total_games)*100))
cat(sprintf("Away team wins: \%d/\%d (\%.1f\%\%)\n",
            away_wins, total_games, (away_wins/total_games)*100))
}

}
