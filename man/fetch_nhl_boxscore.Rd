% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_nhl_boxscore.R
\name{fetch_nhl_boxscore}
\alias{fetch_nhl_boxscore}
\title{Fetch detailed NHL boxscore using ESPN API}
\usage{
fetch_nhl_boxscore(event_id, raw = FALSE)
}
\arguments{
\item{event_id}{Character or numeric. ESPN event/game ID
(e.g., "401589281" for a specific NHL game).}

\item{raw}{Logical. If TRUE, assigns raw JSON response to global environment
as 'nhl_boxscore_raw' for debugging purposes (default: FALSE).}
}
\value{
Invisibly returns a list containing the datasets. The main purpose is global
environment assignment of:
\itemize{
\item \code{nhl_player_stats}: Individual player statistics for both teams
\item \code{nhl_team_stats}: Team-level statistics and totals
}
}
\description{
Retrieves comprehensive boxscore information for a specific NHL game from ESPN's API.
Assigns player statistics and team statistics to global environment.
}
\details{
The function creates comprehensive datasets from ESPN's NHL boxscore API.
\strong{Player Statistics} (\code{nhl_player_stats}):
\itemize{
\item Skater stats: goals, assists, points, +/-, PIM, shots, PPG, PPA, SHG, SHA, GWG, OTG, S\%, FOW, FOL, FO\%, TOI, hits, blocked shots, takeaways, giveaways
\item Goalie stats: wins, losses, OTL, shots against, goals against, GAA, saves, SV\%, shutouts, minutes, shootout saves/shots against
\item Player details: name, position, jersey number, active/scratched status
}

\strong{Team Statistics} (\code{nhl_team_stats}):
\itemize{
\item Team totals for blocked shots, hits, takeaways, shots, power play stats, penalty kill stats, faceoffs, etc.
\item Final scores and game outcome data
}

\strong{Statistical Categories}:
Players are organized by position groups (forwards, defenses, goalies) with appropriate stats for each category.
}
\examples{
\dontrun{
# Get boxscore for a specific game
fetch_nhl_boxscore("401589281")

# Access player statistics
head(nhl_player_stats)

# View forwards only
forwards <- nhl_player_stats[nhl_player_stats$stat_category == "forwards", ]
head(forwards[, c("player_display_name", "goals", "assists", "points", "plus_minus")])

# View goalies only
goalies <- nhl_player_stats[nhl_player_stats$stat_category == "goalies", ]
head(goalies[, c("player_display_name", "wins", "saves", "save_percentage", "goals_against_average")])

# Access team statistics
head(nhl_team_stats)

# Find top scorers
top_scorers <- nhl_player_stats[
  nhl_player_stats$stat_category \%in\% c("forwards", "defenses") &
  !is.na(nhl_player_stats$points) &
  nhl_player_stats$points != "" &
  nhl_player_stats$points != "0",
]
if(nrow(top_scorers) > 0) {
  top_scorers <- top_scorers[order(-as.numeric(top_scorers$points)), ]
  head(top_scorers[, c("player_display_name", "team_abbreviation", "goals", "assists", "points")])
}

# Analyze hits and blocked shots
physical_stats <- nhl_player_stats[
  !is.na(nhl_player_stats$hits) &
  nhl_player_stats$hits != "" &
  as.numeric(nhl_player_stats$hits) > 0,
]
}

}
