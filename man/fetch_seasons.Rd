% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_seasons.R
\name{fetch_seasons}
\alias{fetch_seasons}
\title{Fetch ESPN season & event data}
\usage{
fetch_seasons(
  sport,
  league,
  year = NULL,
  st = NULL,
  wn = NULL,
  dates = NULL,
  limit = 100,
  raw = FALSE,
  extract_all = FALSE
)
}
\arguments{
\item{sport}{Character. Sport slug (e.g. "football", "basketball").}

\item{league}{Character. League slug (e.g. "nfl", "nba").}

\item{year}{Optional integer. Season year (e.g. 2025).}

\item{st}{Optional integer. Season type (1: Pre, 2: Reg, 3: Post, 4: Off).}

\item{wn}{Optional integer. Week number.}

\item{dates}{Optional character. Year ("2025"), date ("20250830"), or range ("20250801-20250831").}

\item{limit}{Max items when listing seasons/events. Default 100.}

\item{raw}{Logical. If TRUE, returns raw JSON data, following \verb{$ref} links.}

\item{extract_all}{Logical. If TRUE, creates dataframes in global environment.}
}
\value{
\itemize{
\item If \code{raw = TRUE}: raw nested list.
\item If \code{extract_all = TRUE}: invisibly returns list and creates dataframes.
\item Else: tibble with primary data.
}
}
\description{
Retrieves season structures, week details, and events from ESPN's sports.core.api
for a given sport and league. Can fetch:
\itemize{
\item Available seasons
\item Season details (types)
\item Weeks within a season type
\item Events for a season, week, or date range
}

Automatically follows \verb{$ref} links to get complete data structures.
}
\details{
Simplifies calls to multiple ESPN endpoints for seasons, weeks, and events. Designed to be
CRAN-compliant, with robust error checks and no pipes. ESPN API is unofficial & may change.
}
\examples{
\dontrun{
fetch_seasons("football", "nfl")                  # List all seasons
fetch_seasons("football", "nfl", year = 2025)     # Season types
fetch_seasons("football", "nfl", year = 2025, st = 2)   # Weeks in regular season
fetch_seasons("football", "nfl", dates = "2025")  # All events for 2025
fetch_seasons("football", "nfl", raw = TRUE)      # Raw nested JSON
}

}
