% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_nfl_athlete_splits.R
\name{fetch_nfl_athlete_splits}
\alias{fetch_nfl_athlete_splits}
\title{Fetch NFL athlete splits data using Web API}
\usage{
fetch_nfl_athlete_splits(
  athlete_id,
  season = NULL,
  season_type = "all",
  raw = FALSE
)
}
\arguments{
\item{athlete_id}{Character or Numeric. ESPN athlete ID (required).
The unique identifier for the athlete in ESPN's database.}

\item{season}{Character or Numeric. Season year (optional).
If not provided, fetches current/latest season data. Format: "2024" or 2024.}

\item{season_type}{Character. Season type to fetch (default: "all").
Options are:
\itemize{
\item "regular" - Regular season splits only
\item "postseason" - Playoff splits only
\item "all" - Both regular season and postseason splits
}}

\item{raw}{Logical. If TRUE, assigns raw JSON response to global environment
as 'nfl_athlete_splits_raw' for debugging purposes (default: FALSE).}
}
\value{
Invisibly returns the processed data frame. The main purpose is global
environment assignment:
\itemize{
\item \code{nfl_athlete_splits} - Splits data frame with comprehensive breakdown statistics
\item \code{nfl_athlete_splits_raw} - Raw JSON response (if raw = TRUE)
}
}
\description{
Retrieves detailed splits statistics for NFL players from ESPN's Web API.
The function fetches player statistics broken down by various conditions
such as home/away, vs divisions, by quarter, situational splits, and more.
}
\details{
The function creates a structured data frame with comprehensive splits information:

\strong{Split Categories} typically include:
\itemize{
\item \strong{Outcome:} Performance in wins vs losses
\item \strong{Victory Margin:} Performance by point differential
\item \strong{Location:} Home vs away performance
\item \strong{Weather:} Indoor vs outdoor conditions
\item \strong{Surface:} Turf vs grass performance
\item \strong{Day of Week:} Performance on different days
\item \strong{Month:} Performance by month of season
\item \strong{Opponent:} Performance vs specific teams
\item \strong{Quarter/Half:} Performance by game period
\item \strong{Down:} Performance on different downs
\item \strong{Field Position:} Performance by field location
\item \strong{Point Differential:} Performance when leading/trailing
}

\strong{Data Frame Structure:}
\itemize{
\item \strong{Athlete Info:} athlete_id, season_year
\item \strong{Split Classification:} split_category, split_name, split_display_name
\item \strong{Statistical Data:} stat_category (Passing/Rushing), stat_name, stat_value
\item \strong{Metadata:} stat_description, stat_display_name, stat_label
}

\strong{Statistical Categories} include:
\itemize{
\item \strong{Passing:} Completions, attempts, yards, TDs, interceptions, passer rating
\item \strong{Rushing:} Attempts, yards, touchdowns, long runs
\item \strong{Efficiency:} Completion percentage, yards per attempt, etc.
}

This data is valuable for identifying performance patterns, situational
strengths/weaknesses, and contextual analysis of player performance.
}
\examples{
\dontrun{
# Get splits for Josh Allen
fetch_nfl_athlete_splits(athlete_id = "3918298")
head(nfl_athlete_splits)

# Get specific season splits
fetch_nfl_athlete_splits(athlete_id = "3918298", season = "2024")

# Get only regular season splits
fetch_nfl_athlete_splits(athlete_id = "3918298", season_type = "regular")

# Check available split categories
unique(nfl_athlete_splits$split_category_name)

# Analyze home vs away performance
location_splits <- nfl_athlete_splits[nfl_athlete_splits$split_category == "byLocation", ]
print(unique(location_splits[c("split_name", "split_display_name")]))

# View passing yards by outcome (wins vs losses)
outcome_passing <- nfl_athlete_splits[
  nfl_athlete_splits$split_category == "byOutcome" &
  nfl_athlete_splits$stat_name == "passingYards",
  c("split_name", "stat_value")
]
print(outcome_passing)

# Get raw data for debugging
fetch_nfl_athlete_splits(athlete_id = "3918298", raw = TRUE)
str(nfl_athlete_splits_raw, max.level = 3)
}

}
\seealso{
\code{\link{fetch_multiple_nfl_athlete_splits}} for fetching
multiple athletes' data, \code{\link{fetch_nfl_athlete_gamelog}} for
game-by-game statistics
}
